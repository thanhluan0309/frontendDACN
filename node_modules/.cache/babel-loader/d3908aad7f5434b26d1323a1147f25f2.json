{"ast":null,"code":"import _defineProperty from\"D:/Deploy/frontendDACN/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Deploy/frontendDACN/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Deploy/frontendDACN/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import initData from\"./Data\";import{DragDropContext}from\"react-beautiful-dnd\";import Column from\"./Column\";import{useState}from\"react\";import styled from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LayoutDND=function LayoutDND(){var _useState=useState(initData),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setstate=_useState2[1];var onDragEnd=function onDragEnd(results){var _objectSpread3;var destination=results.destination,draggableId=results.draggableId,source=results.source;if(!destination){return;}if(destination.droppableId===source.droppableId&&destination.index===source.index){return;}var start=state.colums[source.droppableId];var finish=state.colums[destination.droppableId];if(start===finish){var newTaskID=Array.from(start.taskIds);newTaskID.splice(source.index,1);newTaskID.splice(destination.index,0,draggableId);var newcolumn=_objectSpread(_objectSpread({},start),{},{taskIds:newTaskID});console.log(\"newcolumn\",newcolumn);var _newstate=_objectSpread(_objectSpread({},state),{},{colums:_objectSpread(_objectSpread({},state.colums),{},_defineProperty({},newcolumn.id,newcolumn))});// console.log(\"Result start == finish\", results);\nsetstate(_newstate);// console.log(\"rs\", results);\nreturn;}var starttaskID=Array.from(start.taskIds);starttaskID.splice(source.index,1);var newstart=_objectSpread(_objectSpread({},start),{},{taskIds:starttaskID});var finishtaskID=Array.from(finish.taskIds);finishtaskID.splice(destination.index,0,draggableId);var newfinish=_objectSpread(_objectSpread({},finish),{},{taskIds:finishtaskID});var newstate=_objectSpread(_objectSpread({},state),{},{colums:_objectSpread(_objectSpread({},state.colums),{},(_objectSpread3={},_defineProperty(_objectSpread3,newstart.id,newstart),_defineProperty(_objectSpread3,newfinish.id,newfinish),_objectSpread3))});// console.log(\"Result\", results);\nsetstate(newstate);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:onDragEnd,children:/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\"},children:state.columOrder.map(function(columID,index){var colum=state.colums[columID];// console.log(\"colum,index\", colum, index);\nvar tasks=colum.taskIds.map(function(taskIds){return state.tasks[taskIds];});// console.log(\"task\", tasks);\nreturn/*#__PURE__*/_jsx(Column,{column:colum,tasks:tasks},colum.id);})})})});};export default LayoutDND;","map":{"version":3,"names":["initData","DragDropContext","Column","useState","styled","LayoutDND","state","setstate","onDragEnd","results","destination","draggableId","source","droppableId","index","start","colums","finish","newTaskID","Array","from","taskIds","splice","newcolumn","console","log","newstate","id","starttaskID","newstart","finishtaskID","newfinish","display","columOrder","map","columID","colum","tasks"],"sources":["D:/Deploy/frontendDACN/src/components/Layout/LayoutDND.js"],"sourcesContent":["import initData from \"./Data\";\r\nimport { DragDropContext } from \"react-beautiful-dnd\";\r\nimport Column from \"./Column\";\r\nimport { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nconst LayoutDND = () => {\r\n  const [state, setstate] = useState(initData);\r\n\r\n  const onDragEnd = (results) => {\r\n    const { destination, draggableId, source } = results;\r\n    if (!destination) {\r\n      return;\r\n    }\r\n    if (\r\n      destination.droppableId === source.droppableId &&\r\n      destination.index === source.index\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    const start = state.colums[source.droppableId];\r\n    const finish = state.colums[destination.droppableId];\r\n\r\n    if (start === finish) {\r\n      const newTaskID = Array.from(start.taskIds);\r\n\r\n      newTaskID.splice(source.index, 1);\r\n      newTaskID.splice(destination.index, 0, draggableId);\r\n\r\n      const newcolumn = {\r\n        ...start,\r\n        taskIds: newTaskID,\r\n      };\r\n\r\n      console.log(\"newcolumn\", newcolumn);\r\n      const newstate = {\r\n        ...state,\r\n        colums: {\r\n          ...state.colums,\r\n          [newcolumn.id]: newcolumn,\r\n        },\r\n      };\r\n      // console.log(\"Result start == finish\", results);\r\n      setstate(newstate);\r\n      // console.log(\"rs\", results);\r\n      return;\r\n    }\r\n\r\n    const starttaskID = Array.from(start.taskIds);\r\n    starttaskID.splice(source.index, 1);\r\n    const newstart = {\r\n      ...start,\r\n      taskIds: starttaskID,\r\n    };\r\n\r\n    const finishtaskID = Array.from(finish.taskIds);\r\n    finishtaskID.splice(destination.index, 0, draggableId);\r\n    const newfinish = {\r\n      ...finish,\r\n      taskIds: finishtaskID,\r\n    };\r\n\r\n    const newstate = {\r\n      ...state,\r\n      colums: {\r\n        ...state.colums,\r\n        [newstart.id]: newstart,\r\n        [newfinish.id]: newfinish,\r\n      },\r\n    };\r\n    // console.log(\"Result\", results);\r\n    setstate(newstate);\r\n  };\r\n  return (\r\n    <>\r\n      {/* {console.log(\"state\", state)} */}\r\n      <DragDropContext onDragEnd={onDragEnd}>\r\n        <div style={{ display: \"flex\" }}>\r\n          {/* {console.log(\"task, state\", state)} */}\r\n          {state.columOrder.map((columID, index) => {\r\n            const colum = state.colums[columID];\r\n            // console.log(\"colum,index\", colum, index);\r\n            const tasks = colum.taskIds.map((taskIds) => state.tasks[taskIds]);\r\n\r\n            // console.log(\"task\", tasks);\r\n            return (\r\n              <Column key={colum.id} column={colum} tasks={tasks}></Column>\r\n            );\r\n          })}\r\n        </div>\r\n      </DragDropContext>\r\n    </>\r\n  );\r\n};\r\nexport default LayoutDND;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}