{"ast":null,"code":"import _regeneratorRuntime from\"D:/Deploy/frontendDACN/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Deploy/frontendDACN/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/Deploy/frontendDACN/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Deploy/frontendDACN/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Deploy/frontendDACN/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import Button from\"react-bootstrap/Button\";import{LoginUser}from\"./UserBehavior\";import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import ErrorBox from\"./Errorbox\";import\"./StyleScss.scss\";import Register from\"./Register\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showErrorBox=_useState2[0],setShowErrorBox=_useState2[1];var nav=useNavigate();useEffect(function(){document.title=\"Login\";});var _useState3=useState({username:\"\",password:\"\"}),_useState4=_slicedToArray(_useState3,2),loginForm=_useState4[0],setLoginForm=_useState4[1];var onChangeLogin=function onChangeLogin(event){setLoginForm(_objectSpread(_objectSpread({},loginForm),{},_defineProperty({},event.target.name,event.target.value)));setShowErrorBox(false);};var Login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var LoginData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return LoginUser(loginForm);case 4:LoginData=_context.sent;if(LoginData.success){nav(\"/homepage\");window.location.reload();}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);setShowErrorBox(true);console.log(_context.t0.response);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function Login(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"cssforlayout\",style:{width:\"100%\",height:\"100%\",position:\"fixed\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"materialContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"LOGIN\"}),/*#__PURE__*/_jsx(ErrorBox,{messageError:\"Tài khoản không hợp lệ!\",showErrorBox:showErrorBox}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"username\",onChange:onChangeLogin,value:loginForm.username}),/*#__PURE__*/_jsx(\"span\",{className:\"spin\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pass\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"pass\",name:\"password\",onChange:onChangeLogin,value:loginForm.password}),/*#__PURE__*/_jsx(\"span\",{className:\"spin\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"button login\",children:/*#__PURE__*/_jsx(Button,{className:\"m-6 w-100\",onClick:Login,children:\"Sign in\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"\",className:\"pass-forgot\",children:\"Forgot your password?\"})]}),/*#__PURE__*/_jsx(Register,{})]})})});}","map":{"version":3,"names":["React","Button","LoginUser","useState","useEffect","useNavigate","ErrorBox","Register","Login","showErrorBox","setShowErrorBox","nav","document","title","username","password","loginForm","setLoginForm","onChangeLogin","event","target","name","value","preventDefault","LoginData","success","window","location","reload","console","log","response","width","height","position"],"sources":["D:/Deploy/frontendDACN/src/components/Login/Login.js"],"sourcesContent":["import React from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { LoginUser } from \"./UserBehavior\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport ErrorBox from \"./Errorbox\";\r\nimport \"./StyleScss.scss\";\r\nimport Register from \"./Register\";\r\n\r\nexport default function Login() {\r\n  const [showErrorBox, setShowErrorBox] = useState(false);\r\n  const nav = useNavigate();\r\n  useEffect(() => {\r\n    document.title = \"Login\";\r\n  });\r\n\r\n  const [loginForm, setLoginForm] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const onChangeLogin = (event) => {\r\n    setLoginForm({ ...loginForm, [event.target.name]: event.target.value });\r\n    setShowErrorBox(false);\r\n  };\r\n\r\n  const Login = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const LoginData = await LoginUser(loginForm);\r\n      if (LoginData.success) {\r\n        nav(\"/homepage\");\r\n        window.location.reload();\r\n      }\r\n    } catch (error) {\r\n      setShowErrorBox(true);\r\n      console.log(error.response);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"cssforlayout\"\r\n        style={{ width: \"100%\", height: \"100%\", position: \"fixed\" }}\r\n      >\r\n        <div className=\"materialContainer\">\r\n          <div className=\"box\">\r\n            <div className=\"title\">LOGIN</div>\r\n            <ErrorBox\r\n              messageError={\"Tài khoản không hợp lệ!\"}\r\n              showErrorBox={showErrorBox}\r\n            />\r\n            <div className=\"input\">\r\n              <label htmlFor=\"name\">Username</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"name\"\r\n                name=\"username\"\r\n                onChange={onChangeLogin}\r\n                value={loginForm.username}\r\n              />\r\n              <span className=\"spin\"></span>\r\n            </div>\r\n\r\n            <div className=\"input\">\r\n              <label htmlFor=\"pass\">Password</label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"pass\"\r\n                name=\"password\"\r\n                onChange={onChangeLogin}\r\n                value={loginForm.password}\r\n              />\r\n              <span className=\"spin\"></span>\r\n            </div>\r\n\r\n            <div className=\"button login\">\r\n              <Button className=\"m-6 w-100\" onClick={Login}>\r\n                Sign in\r\n              </Button>\r\n            </div>\r\n\r\n            <a href=\"\" className=\"pass-forgot\">\r\n              Forgot your password?\r\n            </a>\r\n          </div>\r\n          <Register></Register>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"6iBAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,wBAAnB,CAEA,OAASC,SAAT,KAA0B,gBAA1B,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,MAAOC,SAAP,KAAqB,YAArB,CACA,MAAO,kBAAP,CACA,MAAOC,SAAP,KAAqB,YAArB,C,6IAEA,cAAe,SAASC,MAAT,EAAiB,CAC9B,cAAwCL,QAAQ,CAAC,KAAD,CAAhD,wCAAOM,YAAP,eAAqBC,eAArB,eACA,GAAMC,IAAG,CAAGN,WAAW,EAAvB,CACAD,SAAS,CAAC,UAAM,CACdQ,QAAQ,CAACC,KAAT,CAAiB,OAAjB,CACD,CAFQ,CAAT,CAIA,eAAkCV,QAAQ,CAAC,CACzCW,QAAQ,CAAE,EAD+B,CAEzCC,QAAQ,CAAE,EAF+B,CAAD,CAA1C,yCAAOC,SAAP,eAAkBC,YAAlB,eAKA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAW,CAC/BF,YAAY,gCAAMD,SAAN,wBAAkBG,KAAK,CAACC,MAAN,CAAaC,IAA/B,CAAsCF,KAAK,CAACC,MAAN,CAAaE,KAAnD,GAAZ,CACAZ,eAAe,CAAC,KAAD,CAAf,CACD,CAHD,CAKA,GAAMF,MAAK,4FAAG,iBAAOW,KAAP,kIACZA,KAAK,CAACI,cAAN,GADY,sCAGcrB,UAAS,CAACc,SAAD,CAHvB,QAGJQ,SAHI,eAIV,GAAIA,SAAS,CAACC,OAAd,CAAuB,CACrBd,GAAG,CAAC,WAAD,CAAH,CACAe,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAPS,+EASVlB,eAAe,CAAC,IAAD,CAAf,CACAmB,OAAO,CAACC,GAAR,CAAY,YAAMC,QAAlB,EAVU,oEAAH,kBAALvB,MAAK,4CAAX,CAcA,mBACE,sCACE,YACE,SAAS,CAAC,cADZ,CAEE,KAAK,CAAE,CAAEwB,KAAK,CAAE,MAAT,CAAiBC,MAAM,CAAE,MAAzB,CAAiCC,QAAQ,CAAE,OAA3C,CAFT,uBAIE,aAAK,SAAS,CAAC,mBAAf,wBACE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,mBADF,cAEE,KAAC,QAAD,EACE,YAAY,CAAE,yBADhB,CAEE,YAAY,CAAEzB,YAFhB,EAFF,cAME,aAAK,SAAS,CAAC,OAAf,wBACE,cAAO,OAAO,CAAC,MAAf,sBADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,MAFL,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,CAAES,aAJZ,CAKE,KAAK,CAAEF,SAAS,CAACF,QALnB,EAFF,cASE,aAAM,SAAS,CAAC,MAAhB,EATF,GANF,cAkBE,aAAK,SAAS,CAAC,OAAf,wBACE,cAAO,OAAO,CAAC,MAAf,sBADF,cAEE,cACE,IAAI,CAAC,UADP,CAEE,EAAE,CAAC,MAFL,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,CAAEI,aAJZ,CAKE,KAAK,CAAEF,SAAS,CAACD,QALnB,EAFF,cASE,aAAM,SAAS,CAAC,MAAhB,EATF,GAlBF,cA8BE,YAAK,SAAS,CAAC,cAAf,uBACE,KAAC,MAAD,EAAQ,SAAS,CAAC,WAAlB,CAA8B,OAAO,CAAEP,KAAvC,qBADF,EA9BF,cAoCE,UAAG,IAAI,CAAC,EAAR,CAAW,SAAS,CAAC,aAArB,mCApCF,GADF,cAyCE,KAAC,QAAD,IAzCF,GAJF,EADF,EADF,CAoDD"},"metadata":{},"sourceType":"module"}