{"ast":null,"code":"import _defineProperty from\"D:/Deploy/frontendDACN/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Deploy/frontendDACN/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"D:/Deploy/frontendDACN/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"D:/Deploy/frontendDACN/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Deploy/frontendDACN/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Deploy/frontendDACN/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import Button from\"react-bootstrap/esm/Button\";import{DragDropContext}from\"react-beautiful-dnd\";import{getOneColums}from\"../Dashboard/postBehavior\";import{useNavigate}from\"react-router-dom\";import{ModalAddColumn}from\"./LayoutDBhandle\";import{getPosts,//change to get all post by MAPID\ngetPostsByMapId,initColumns,updateColumns,getAllColumns,//change to get post by MAPID\ngetColumnsByMapId,DeletedPost,getOneColumsByidBody,DeletedColumns_ByID,updateTaskidColumns}from\"../Dashboard/postBehavior\";import NotificationContainer from\"react-notifications/lib/NotificationContainer\";import{createNotification}from\"../Notifications/notifications\";import\"./style.css\";import Column from\"./Column\";import*as Icon from\"react-bootstrap-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LayoutDNDConnectDB=function LayoutDNDConnectDB(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Posthave=_useState2[0],setPosthave=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setstate=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),columns=_useState6[0],setColumns=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),runone=_useState8[0],setrunone=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),removeTask=_useState10[0],setRemovetask=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),removeTaskfromCol=_useState12[0],setRemovetaskfromCol=_useState12[1];var nav=useNavigate();var getallPostBYmapid=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var GetallPostzx;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getPostsByMapId(localStorage.getItem(\"mapid\"));case 3:GetallPostzx=_context.sent;if(GetallPostzx.success){setstate(GetallPostzx.Post_of_User);}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getallPostBYmapid(){return _ref.apply(this,arguments);};}();var title={//Add MapID\nid:\"idInit\".concat(localStorage.getItem(\"mapid\")),title:\"Process\",MapId:localStorage.getItem(\"mapid\")};var updateColumnsWhenHandle=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"handle update \",e);_context2.next=3;return updateColumns(e);case 3:autorun();case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function updateColumnsWhenHandle(_x){return _ref2.apply(this,arguments);};}();var updatecolumnsinit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var UpdateInit,laytemp,getposthave,index,_index,i,_index2;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:UpdateInit={_id:localStorage.getItem(\"IDinitColumns\"),taskIds:[]};laytemp=[];getposthave=_toConsumableArray(Posthave);if(columns.length===0){for(index=0;index<state.length;index++){UpdateInit.taskIds.push(state[index]._id);}}else{for(_index=0;_index<columns.length;_index++){if(columns[_index].taskIds[0]!==undefined){for(i=0;i<columns[_index].taskIds[0].length;i++){laytemp.push(columns[_index].taskIds[0][i]);}}}if(state.length>=laytemp.length){for(_index2=0;_index2<state.length;_index2++){if(laytemp.indexOf(\"\".concat(state[_index2]._id))===-1){getposthave.push(state[_index2]._id);}}}autorun();UpdateInit.taskIds=_toConsumableArray(getposthave);}_context3.next=6;return updateColumns(UpdateInit);case 6:checkValidColumninit(title);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function updatecolumnsinit(){return _ref3.apply(this,arguments);};}();var GetallColByMapId=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var gAllCol;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return getColumnsByMapId(localStorage.getItem(\"mapid\"));case 2:gAllCol=_context4.sent;setColumns(gAllCol.getALlCol);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function GetallColByMapId(){return _ref4.apply(this,arguments);};}();var getInitColumns=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var getInit;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(localStorage.getItem(\"IDinitColumns\")!==null){DeltedById(localStorage.getItem(\"IDinitColumns\"));}_context5.next=3;return initColumns(title);case 3:getInit=_context5.sent;localStorage.setItem(\"IDinitColumns\",getInit.data.newcolumns._id);updatecolumnsinit();case 6:case\"end\":return _context5.stop();}}},_callee5);}));return function getInitColumns(){return _ref5.apply(this,arguments);};}();var DeltedById=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(id){return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return DeletedColumns_ByID(id);case 2:autorun();case 3:case\"end\":return _context6.stop();}}},_callee6);}));return function DeltedById(_x2){return _ref6.apply(this,arguments);};}();var autorun=function autorun(){for(var index=0;index<5;index++){getallPostBYmapid();GetallColByMapId();}};var getPostTodeleteTask=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(e,idTask){var req,col,index;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return getOneColums(e);case 2:req=_context7.sent;col=req.OneColumns;index=col.taskIds[0].indexOf(\"\".concat(idTask));if(index>-1){col.taskIds[0].splice(index,1);// 2nd parameter means remove one item only\n}_context7.next=8;return updateTaskidColumns(col);case 8:autorun();case 9:case\"end\":return _context7.stop();}}},_callee7);}));return function getPostTodeleteTask(_x3,_x4){return _ref7.apply(this,arguments);};}();useEffect(function(){if(localStorage.getItem(\"token\")===null){return nav(\"/login\");}// GetallCol();\nGetallColByMapId();if(removeTask){getPostTodeleteTask(removeTaskfromCol,removeTask);setRemovetaskfromCol(\"\");setRemovetask(\"\");}});var checkValidColumninit=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(e){var res,index;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return getOneColumsByidBody(e);case 2:res=_context8.sent;localStorage.setItem(\"IDinitColumns\",res.OneColumns._id);setPosthave(res.OneColumns.taskIds[0]);for(index=0;index<4;index++){setPosthave(res.OneColumns.taskIds[0]);}return _context8.abrupt(\"return\",res.OneColumns);case 7:case\"end\":return _context8.stop();}}},_callee8);}));return function checkValidColumninit(_x5){return _ref8.apply(this,arguments);};}();window.onload=function(){checkValidColumninit(title);autorun();console.clear();};var getOneColumsByid=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(id){var getColumns;return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return getOneColums(id);case 2:getColumns=_context9.sent;return _context9.abrupt(\"return\",getColumns.OneColumns);case 4:case\"end\":return _context9.stop();}}},_callee9);}));return function getOneColumsByid(_x6){return _ref9.apply(this,arguments);};}();var onDragEnd=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee10(results){var destination,draggableId,source,startPromise,finishPromise,starts,finishs;return _regeneratorRuntime().wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:autorun();destination=results.destination,draggableId=results.draggableId,source=results.source;if(destination){_context10.next=4;break;}return _context10.abrupt(\"return\");case 4:if(!(destination.droppableId===source.droppableId&&destination.index===source.index)){_context10.next=6;break;}return _context10.abrupt(\"return\");case 6:startPromise=getOneColumsByid(source.droppableId);finishPromise=getOneColumsByid(destination.droppableId);starts={};finishs={};startPromise.then(function(result){starts=_objectSpread({},result);finishPromise.then(function(result){finishs=_objectSpread({},result);if(starts._id===finishs._id){var newTaskID=Array.from(starts.taskIds);newTaskID[0].splice(source.index,1);newTaskID[0].splice(destination.index,0,draggableId);var newcolumn=_objectSpread(_objectSpread({},starts),{},{taskIds:newTaskID[0]});updateColumnsWhenHandle(newcolumn);checkValidColumninit(title);return;}else{var finishtaskID=Array.from(finishs.taskIds);if(finishtaskID[0]===undefined){finishtaskID[0]=[];}finishtaskID[0].splice(destination.index,0,draggableId);var newfinish=_objectSpread(_objectSpread({},finishs),{},{taskIds:finishtaskID[0]});var starttaskID=Array.from(starts.taskIds);starttaskID[0].splice(source.index,1);var newstart=_objectSpread(_objectSpread({},starts),{},{taskIds:starttaskID[0]});updateColumnsWhenHandle(newstart);updateColumnsWhenHandle(newfinish);checkValidColumninit(title);return;}});});case 11:case\"end\":return _context10.stop();}}},_callee10);}));return function onDragEnd(_x7){return _ref10.apply(this,arguments);};}();var _useState13=useState({MapId:localStorage.getItem(\"mapid\"),title:\"\"}),_useState14=_slicedToArray(_useState13,2),addColumnsForm=_useState14[0],setaddColumnsForm=_useState14[1];var handleChangeFormAddColumns=function handleChangeFormAddColumns(event){setaddColumnsForm(_objectSpread(_objectSpread({},addColumnsForm),{},_defineProperty({},event.target.name,event.target.value)));};var CreateNewColumn=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee11(){var req;return _regeneratorRuntime().wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return initColumns(addColumnsForm);case 2:req=_context11.sent;autorun();return _context11.abrupt(\"return\",req);case 5:case\"end\":return _context11.stop();}}},_callee11);}));return function CreateNewColumn(){return _ref11.apply(this,arguments);};}();var submitchange=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee12(event){var updateCol;return _regeneratorRuntime().wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:updateCol={_id:event.target.value,title:document.getElementById(\"\".concat(event.target.value)).innerText};if(!(updateCol.title.length>25)){_context12.next=5;break;}createNotification(\"info\",\"Title no more than 25 characters \");_context12.next=8;break;case 5:_context12.next=7;return updateColumns(updateCol);case 7:createNotification(\"warning\",\"Update title success\");case 8:case\"end\":return _context12.stop();}}},_callee12);}));return function submitchange(_x8){return _ref12.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"cssforlayout\",style:{width:\"100%\",height:\"100%\",position:\"fixed\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"nav\",{style:{opacity:\"0.8\",height:\"136%\"},className:\"navbar navbar-expand-lg navbar-dark bg-dark\",children:[/*#__PURE__*/_jsxs(\"a\",{className:\"navbar-brand\",href:\"#\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn-icons-png.flaticon.com/512/3209/3209265.png\",width:\"30\",height:\"30\",className:\"d-inline-block align-top\",alt:\"\"}),\"Smart-note\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#my-nav-bar\",\"aria-controls\":\"my-nav-bar\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",id:\"my-nav-bar\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item active\",children:localStorage.getItem(\"managerUser\")===\"true\"?/*#__PURE__*/_jsx(Button,{onClick:getInitColumns,children:\"Init map\"}):\"\"}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{style:{width:\"100%\",marginLeft:\"20px\"},href:\"/Dashboard\",children:/*#__PURE__*/_jsx(Button,{children:\"Back\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Button,{type:\"button\",style:{marginLeft:\"20px\"},className:\"btn btn-primary\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",\"data-bs-whatever\":\"@mdo\",children:\"Create new Column\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Button,{type:\"button\",style:{marginLeft:\"20px\"},className:\"btn btn-primary\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",\"data-bs-whatever\":\"@mdo\",children:\"Reset all\"})})]})})]})})}),/*#__PURE__*/_jsx(NotificationContainer,{}),/*#__PURE__*/_jsx(ModalAddColumn,{addColumnsForm:addColumnsForm,handleChangeFormAddColumns:handleChangeFormAddColumns,CreateNewColumn:CreateNewColumn}),/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:onDragEnd,children:/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\"},children:columns&&columns.map(function(columID,index){var colum=columns[index];var task=colum.taskIds.map(function(taskIds,index){return colum.taskIds[index];});if(task[0]===undefined){var lay=[];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"Column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Column-navbar\",children:[/*#__PURE__*/_jsx(Button,{onClick:submitchange,value:colum._id,className:\"btn btn-warning \",children:\"Save\"}),/*#__PURE__*/_jsx(\"div\",{id:colum._id,name:colum._id,className:\"card-title\",contentEditable:true,suppressContentEditableWarning:true,children:colum.title}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){DeltedById(colum._id);},className:\"btn btn-danger mt-1\",children:/*#__PURE__*/_jsx(Icon.Trash,{fontWeight:600,size:20})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Column-Body\",children:/*#__PURE__*/_jsx(Column,{setRemovetaskfromCol:setRemovetaskfromCol,setRemovetask:setRemovetask,column:colum,tasks:lay},colum._id)})]})});}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"Column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Column-navbar\",children:[/*#__PURE__*/_jsx(Button,{onClick:submitchange,value:colum._id,className:\"btn btn-warning \",children:\"Save\"}),/*#__PURE__*/_jsx(\"div\",{id:colum._id,name:colum._id,className:\"card-title\",contentEditable:true,suppressContentEditableWarning:true,children:colum.title}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){DeltedById(colum._id);},className:\"btn btn-danger mt-1\",children:/*#__PURE__*/_jsx(Icon.Trash,{fontWeight:600,size:20})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Column-Body\",children:/*#__PURE__*/_jsx(Column,{setRemovetaskfromCol:setRemovetaskfromCol,setRemovetask:setRemovetask,column:colum,tasks:task[0]},colum._id)})]})});}})})})]})});};export default LayoutDNDConnectDB;","map":{"version":3,"names":["useState","useEffect","Button","DragDropContext","getOneColums","useNavigate","ModalAddColumn","getPosts","getPostsByMapId","initColumns","updateColumns","getAllColumns","getColumnsByMapId","DeletedPost","getOneColumsByidBody","DeletedColumns_ByID","updateTaskidColumns","NotificationContainer","createNotification","Column","Icon","LayoutDNDConnectDB","Posthave","setPosthave","state","setstate","columns","setColumns","runone","setrunone","removeTask","setRemovetask","removeTaskfromCol","setRemovetaskfromCol","nav","getallPostBYmapid","localStorage","getItem","GetallPostzx","success","Post_of_User","console","log","title","id","MapId","updateColumnsWhenHandle","e","autorun","updatecolumnsinit","UpdateInit","_id","taskIds","laytemp","getposthave","length","index","push","undefined","i","indexOf","checkValidColumninit","GetallColByMapId","gAllCol","getALlCol","getInitColumns","DeltedById","getInit","setItem","data","newcolumns","getPostTodeleteTask","idTask","req","col","OneColumns","splice","res","window","onload","clear","getOneColumsByid","getColumns","onDragEnd","results","destination","draggableId","source","droppableId","startPromise","finishPromise","starts","finishs","then","result","newTaskID","Array","from","newcolumn","finishtaskID","newfinish","starttaskID","newstart","addColumnsForm","setaddColumnsForm","handleChangeFormAddColumns","event","target","name","value","CreateNewColumn","submitchange","updateCol","document","getElementById","innerText","width","height","position","opacity","marginLeft","display","map","columID","colum","task","lay"],"sources":["D:/Deploy/frontendDACN/src/components/LayoutConnectDB/Layout.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport Button from \"react-bootstrap/esm/Button\";\r\nimport { DragDropContext } from \"react-beautiful-dnd\";\r\nimport { getOneColums } from \"../Dashboard/postBehavior\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ModalAddColumn } from \"./LayoutDBhandle\";\r\nimport {\r\n  getPosts, //change to get all post by MAPID\r\n  getPostsByMapId,\r\n  initColumns,\r\n  updateColumns,\r\n  getAllColumns, //change to get post by MAPID\r\n  getColumnsByMapId,\r\n  DeletedPost,\r\n  getOneColumsByidBody,\r\n  DeletedColumns_ByID,\r\n  updateTaskidColumns,\r\n} from \"../Dashboard/postBehavior\";\r\nimport NotificationContainer from \"react-notifications/lib/NotificationContainer\";\r\nimport { createNotification } from \"../Notifications/notifications\";\r\nimport \"./style.css\";\r\nimport Column from \"./Column\";\r\nimport * as Icon from \"react-bootstrap-icons\";\r\nconst LayoutDNDConnectDB = () => {\r\n  const [Posthave, setPosthave] = useState([]);\r\n  const [state, setstate] = useState([]);\r\n  const [columns, setColumns] = useState([]);\r\n  const [runone, setrunone] = useState(true);\r\n  const [removeTask, setRemovetask] = useState(\"\");\r\n  const [removeTaskfromCol, setRemovetaskfromCol] = useState(\"\");\r\n  const nav = useNavigate();\r\n\r\n  const getallPostBYmapid = async () => {\r\n    try {\r\n      const GetallPostzx = await getPostsByMapId(localStorage.getItem(\"mapid\"));\r\n      if (GetallPostzx.success) {\r\n        setstate(GetallPostzx.Post_of_User);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  let title = {\r\n    //Add MapID\r\n    id: `idInit${localStorage.getItem(\"mapid\")}`,\r\n    title: \"Process\",\r\n    MapId: localStorage.getItem(\"mapid\"),\r\n  };\r\n\r\n  const updateColumnsWhenHandle = async (e) => {\r\n    console.log(\"handle update \", e);\r\n    await updateColumns(e);\r\n    autorun();\r\n  };\r\n  const updatecolumnsinit = async () => {\r\n    let UpdateInit = {\r\n      _id: localStorage.getItem(\"IDinitColumns\"),\r\n      taskIds: [],\r\n    };\r\n    let laytemp = [];\r\n    let getposthave = [...Posthave];\r\n    if (columns.length === 0) {\r\n      for (let index = 0; index < state.length; index++) {\r\n        UpdateInit.taskIds.push(state[index]._id);\r\n      }\r\n    } else {\r\n      for (let index = 0; index < columns.length; index++) {\r\n        if (columns[index].taskIds[0] !== undefined) {\r\n          for (let i = 0; i < columns[index].taskIds[0].length; i++) {\r\n            laytemp.push(columns[index].taskIds[0][i]);\r\n          }\r\n        }\r\n      }\r\n      if (state.length >= laytemp.length) {\r\n        for (let index = 0; index < state.length; index++) {\r\n          if (laytemp.indexOf(`${state[index]._id}`) === -1) {\r\n            getposthave.push(state[index]._id);\r\n          }\r\n        }\r\n      }\r\n      autorun();\r\n      UpdateInit.taskIds = [...getposthave];\r\n    }\r\n    await updateColumns(UpdateInit);\r\n    checkValidColumninit(title);\r\n  };\r\n\r\n  const GetallColByMapId = async () => {\r\n    const gAllCol = await getColumnsByMapId(localStorage.getItem(\"mapid\"));\r\n    setColumns(gAllCol.getALlCol);\r\n  };\r\n\r\n  const getInitColumns = async () => {\r\n    if (localStorage.getItem(\"IDinitColumns\") !== null) {\r\n      DeltedById(localStorage.getItem(\"IDinitColumns\"));\r\n    }\r\n    const getInit = await initColumns(title);\r\n    localStorage.setItem(\"IDinitColumns\", getInit.data.newcolumns._id);\r\n    updatecolumnsinit();\r\n  };\r\n  const DeltedById = async (id) => {\r\n    await DeletedColumns_ByID(id);\r\n    autorun();\r\n  };\r\n  const autorun = () => {\r\n    for (let index = 0; index < 5; index++) {\r\n      getallPostBYmapid();\r\n      GetallColByMapId();\r\n    }\r\n  };\r\n\r\n  const getPostTodeleteTask = async (e, idTask) => {\r\n    const req = await getOneColums(e);\r\n    let col = req.OneColumns;\r\n\r\n    const index = col.taskIds[0].indexOf(`${idTask}`);\r\n    if (index > -1) {\r\n      col.taskIds[0].splice(index, 1); // 2nd parameter means remove one item only\r\n    }\r\n    await updateTaskidColumns(col);\r\n    autorun();\r\n  };\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"token\") === null) {\r\n      return nav(\"/login\");\r\n    }\r\n    // GetallCol();\r\n\r\n    GetallColByMapId();\r\n    if (removeTask) {\r\n      getPostTodeleteTask(removeTaskfromCol, removeTask);\r\n      setRemovetaskfromCol(\"\");\r\n      setRemovetask(\"\");\r\n    }\r\n  });\r\n  const checkValidColumninit = async (e) => {\r\n    const res = await getOneColumsByidBody(e);\r\n    localStorage.setItem(\"IDinitColumns\", res.OneColumns._id);\r\n    setPosthave(res.OneColumns.taskIds[0]);\r\n    for (let index = 0; index < 4; index++) {\r\n      setPosthave(res.OneColumns.taskIds[0]);\r\n    }\r\n    return res.OneColumns;\r\n  };\r\n  window.onload = function () {\r\n    checkValidColumninit(title);\r\n    autorun();\r\n    console.clear();\r\n  };\r\n  const getOneColumsByid = async (id) => {\r\n    const getColumns = await getOneColums(id);\r\n    return getColumns.OneColumns;\r\n  };\r\n\r\n  const onDragEnd = async (results) => {\r\n    autorun();\r\n    const { destination, draggableId, source } = results;\r\n    if (!destination) {\r\n      return;\r\n    }\r\n    if (\r\n      destination.droppableId === source.droppableId &&\r\n      destination.index === source.index\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    let startPromise = getOneColumsByid(source.droppableId);\r\n    let finishPromise = getOneColumsByid(destination.droppableId);\r\n    let starts = {};\r\n    let finishs = {};\r\n    startPromise.then(function (result) {\r\n      starts = {\r\n        ...result,\r\n      };\r\n      finishPromise.then(function (result) {\r\n        finishs = {\r\n          ...result,\r\n        };\r\n        if (starts._id === finishs._id) {\r\n          const newTaskID = Array.from(starts.taskIds);\r\n          newTaskID[0].splice(source.index, 1);\r\n          newTaskID[0].splice(destination.index, 0, draggableId);\r\n\r\n          const newcolumn = {\r\n            ...starts,\r\n            taskIds: newTaskID[0],\r\n          };\r\n          updateColumnsWhenHandle(newcolumn);\r\n          checkValidColumninit(title);\r\n          return;\r\n        } else {\r\n          const finishtaskID = Array.from(finishs.taskIds);\r\n\r\n          if (finishtaskID[0] === undefined) {\r\n            finishtaskID[0] = [];\r\n          }\r\n          finishtaskID[0].splice(destination.index, 0, draggableId);\r\n          const newfinish = {\r\n            ...finishs,\r\n            taskIds: finishtaskID[0],\r\n          };\r\n\r\n          const starttaskID = Array.from(starts.taskIds);\r\n          starttaskID[0].splice(source.index, 1);\r\n          const newstart = {\r\n            ...starts,\r\n            taskIds: starttaskID[0],\r\n          };\r\n\r\n          updateColumnsWhenHandle(newstart);\r\n          updateColumnsWhenHandle(newfinish);\r\n          checkValidColumninit(title);\r\n          return;\r\n        }\r\n      });\r\n    });\r\n  };\r\n  const [addColumnsForm, setaddColumnsForm] = useState({\r\n    MapId: localStorage.getItem(\"mapid\"),\r\n    title: \"\",\r\n  });\r\n  const handleChangeFormAddColumns = (event) => {\r\n    setaddColumnsForm({\r\n      ...addColumnsForm,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const CreateNewColumn = async () => {\r\n    const req = await initColumns(addColumnsForm);\r\n    autorun();\r\n    return req;\r\n  };\r\n  const submitchange = async (event) => {\r\n    let updateCol = {\r\n      _id: event.target.value,\r\n      title: document.getElementById(`${event.target.value}`).innerText,\r\n    };\r\n\r\n    if (updateCol.title.length > 25) {\r\n      createNotification(\"info\", \"Title no more than 25 characters \");\r\n    } else {\r\n      await updateColumns(updateCol);\r\n      createNotification(\"warning\", \"Update title success\");\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"cssforlayout\" style={{ width: \"100%\", height: \"100%\", position: \"fixed\" }}>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <nav\r\n              style={{ opacity: \"0.8\", height: \"136%\" }}\r\n              className=\"navbar navbar-expand-lg navbar-dark bg-dark\"\r\n            >\r\n              <a className=\"navbar-brand\" href=\"#\">\r\n                <img\r\n                  src=\"https://cdn-icons-png.flaticon.com/512/3209/3209265.png\"\r\n                  width=\"30\"\r\n                  height=\"30\"\r\n                  className=\"d-inline-block align-top\"\r\n                  alt=\"\"\r\n                />\r\n                Smart-note\r\n              </a>\r\n              <button\r\n                className=\"navbar-toggler\"\r\n                type=\"button\"\r\n                data-toggle=\"collapse\"\r\n                data-target=\"#my-nav-bar\"\r\n                aria-controls=\"my-nav-bar\"\r\n                aria-expanded=\"false\"\r\n                aria-label=\"Toggle navigation\"\r\n              >\r\n                <span className=\"navbar-toggler-icon\"></span>\r\n              </button>\r\n              <div className=\"collapse navbar-collapse\" id=\"my-nav-bar\">\r\n                <ul className=\"navbar-nav\">\r\n                  <li className=\"nav-item active\">\r\n                    {localStorage.getItem(\"managerUser\") === \"true\" ? (\r\n                      <Button onClick={getInitColumns}>Init map</Button>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </li>\r\n\r\n                  <li className=\"nav-item\">\r\n                    <a\r\n                      style={{ width: \"100%\", marginLeft: \"20px\" }}\r\n                      href=\"/Dashboard\"\r\n                    >\r\n                      <Button>Back</Button>\r\n                    </a>\r\n                  </li>\r\n\r\n                  <li className=\"nav-item\">\r\n                    <Button\r\n                      type=\"button\"\r\n                      style={{ marginLeft: \"20px\" }}\r\n                      className=\"btn btn-primary\"\r\n                      data-bs-toggle=\"modal\"\r\n                      data-bs-target=\"#exampleModal\"\r\n                      data-bs-whatever=\"@mdo\"\r\n                    >\r\n                      Create new Column\r\n                    </Button>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <Button\r\n                      type=\"button\"\r\n                      style={{ marginLeft: \"20px\" }}\r\n                      className=\"btn btn-primary\"\r\n                      data-bs-toggle=\"modal\"\r\n                      data-bs-target=\"#exampleModal\"\r\n                      data-bs-whatever=\"@mdo\"\r\n                    >\r\n                      Reset all\r\n                    </Button>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n        <NotificationContainer></NotificationContainer>\r\n        <ModalAddColumn\r\n          addColumnsForm={addColumnsForm}\r\n          handleChangeFormAddColumns={handleChangeFormAddColumns}\r\n          CreateNewColumn={CreateNewColumn}\r\n        ></ModalAddColumn>\r\n        <DragDropContext onDragEnd={onDragEnd}>\r\n          <div style={{ display: \"flex\" }}>\r\n            {columns &&\r\n              columns.map((columID, index) => {\r\n                const colum = columns[index];\r\n                const task = colum.taskIds.map(\r\n                  (taskIds, index) => colum.taskIds[index]\r\n                );\r\n                if (task[0] === undefined) {\r\n                  const lay = [];\r\n                  return (\r\n                    <>\r\n                      <div className=\"Column\">\r\n                        <div className=\"Column-navbar\">\r\n                          <Button\r\n                            onClick={submitchange}\r\n                            value={colum._id}\r\n                            className=\"btn btn-warning \"\r\n                          >\r\n                            Save\r\n                          </Button>\r\n\r\n                          <div\r\n                            id={colum._id}\r\n                            name={colum._id}\r\n                            className=\"card-title\"\r\n                            contentEditable={true}\r\n                            suppressContentEditableWarning={true}\r\n                          >\r\n                            {colum.title}\r\n                          </div>\r\n\r\n                          <Button\r\n                            onClick={() => {\r\n                              DeltedById(colum._id);\r\n                            }}\r\n                            className=\"btn btn-danger mt-1\"\r\n                          >\r\n                            <Icon.Trash fontWeight={600} size={20}></Icon.Trash>\r\n                          </Button>\r\n                        </div>\r\n                        <div className=\"Column-Body\">\r\n                          <Column\r\n                            setRemovetaskfromCol={setRemovetaskfromCol}\r\n                            setRemovetask={setRemovetask}\r\n                            key={colum._id}\r\n                            column={colum}\r\n                            tasks={lay}\r\n                          ></Column>\r\n                        </div>\r\n                      </div>\r\n                    </>\r\n                  );\r\n                } else {\r\n                  return (\r\n                    <>\r\n                      <div className=\"Column\">\r\n                        <div className=\"Column-navbar\">\r\n                          <Button\r\n                            onClick={submitchange}\r\n                            value={colum._id}\r\n                            className=\"btn btn-warning \"\r\n                          >\r\n                            Save\r\n                          </Button>\r\n\r\n                          <div\r\n                            id={colum._id}\r\n                            name={colum._id}\r\n                            className=\"card-title\"\r\n                            contentEditable={true}\r\n                            suppressContentEditableWarning={true}\r\n                          >\r\n                            {colum.title}\r\n                          </div>\r\n\r\n                          <Button\r\n                            onClick={() => {\r\n                              DeltedById(colum._id);\r\n                            }}\r\n                            className=\"btn btn-danger mt-1\"\r\n                          >\r\n                            <Icon.Trash fontWeight={600} size={20}></Icon.Trash>\r\n                          </Button>\r\n                        </div>\r\n                        <div className=\"Column-Body\">\r\n                          <Column\r\n                            setRemovetaskfromCol={setRemovetaskfromCol}\r\n                            setRemovetask={setRemovetask}\r\n                            key={colum._id}\r\n                            column={colum}\r\n                            tasks={task[0]}\r\n                          ></Column>\r\n                        </div>\r\n                      </div>\r\n                    </>\r\n                  );\r\n                }\r\n              })}\r\n          </div>\r\n        </DragDropContext>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default LayoutDNDConnectDB;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}